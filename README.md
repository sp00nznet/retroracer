# ğŸï¸ RetroRacer

<div align="center">

**A retro-style 3D racing game for the SEGA Dreamcast**

*Inspired by the golden era of N64 and PS1 racing games*

[![Platform](https://img.shields.io/badge/Platform-Dreamcast-blue)]()
[![License](https://img.shields.io/badge/License-MIT-green)]()
[![Built with](https://img.shields.io/badge/Built%20with-KallistiOS-orange)]()

</div>

---

## ğŸ“– About

RetroRacer is a love letter to the arcade racing games of the late 90s. Built from the ground up for the SEGA Dreamcast using KallistiOS, it features procedurally generated tracks, N64-style low-poly graphics, and fast arcade action.

Every race is unique thanks to the procedural track generation system - no two races are ever the same!

## âœ¨ Features

- **ğŸ® 4 Game Modes** - Something for everyone
- **ğŸ›£ï¸ Procedural Tracks** - Infinite variety with randomly generated circuits
- **ğŸ¤– AI Opponents** - Race against up to 7 computer-controlled vehicles
- **ğŸ† Championship Mode** - Compete in a 4-race Grand Prix series
- **â±ï¸ Time Trials** - Perfect your racing line and beat your best times
- **ğŸ¨ Retro Aesthetics** - Authentic N64-era low-poly graphics

---

## ğŸ® Game Modes

### 1. ğŸ‘ï¸ AI Race (Spectator Mode)
Sit back and watch AI drivers compete against each other. Perfect for demos or just enjoying the procedural tracks. Choose from 4 difficulty levels to see different racing strategies.

### 2. ğŸ Single Track
Jump right into the action! Race a single procedurally generated track against AI opponents. Quick and satisfying gameplay.

### 3. â±ï¸ Time Trial
No opponents, no distractions - just you against the clock. Master the track and shave seconds off your best lap time. Ghost data tracks your personal best.

### 4. ğŸ† Grand Prix
The ultimate test! Compete in a 4-race championship series. Earn points based on your finishing position across all races. Different tracks each race keep you on your toes.

**Points System:**
| Position | 1st | 2nd | 3rd | 4th | 5th | 6th | 7th | 8th |
|----------|-----|-----|-----|-----|-----|-----|-----|-----|
| Points   | 10  | 8   | 6   | 5   | 4   | 3   | 2   | 1   |

---

## ğŸš— Vehicle Classes

Choose your ride! Each vehicle class offers a different driving experience:

| Class | Top Speed | Acceleration | Handling | Best For |
|-------|-----------|--------------|----------|----------|
| **Standard** | â˜…â˜…â˜…â˜†â˜† | â˜…â˜…â˜…â˜†â˜† | â˜…â˜…â˜…â˜†â˜† | Beginners |
| **Speed** | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜†â˜†â˜† | Straights |
| **Handling** | â˜…â˜…â˜†â˜†â˜† | â˜…â˜…â˜…â˜†â˜† | â˜…â˜…â˜…â˜…â˜… | Tight corners |
| **Balanced** | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜…â˜† | All-rounders |

---

## ğŸ¯ Controls

### Dreamcast Controller

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            DREAMCAST                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚                                     â”‚               â”‚
    â”‚   Analog      â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    X  Y       â”‚
    â”‚   Stick       â”‚           â”‚  START  â”‚               â”‚               â”‚
    â”‚     â—‹         â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚    A  B       â”‚
    â”‚               â”‚                                     â”‚               â”‚
    â”‚   D-Pad       â”‚                                     â”‚               â”‚
    â”‚   â”Œâ”€â”€â”€â”       â”‚                                     â”‚               â”‚
    â”‚   â”‚ â–² â”‚       â”‚                                     â”‚               â”‚
    â”‚ â”Œâ”€â”¼â”€â”€â”€â”¼â”€â”     â”‚                                     â”‚               â”‚
    â”‚ â”‚â—„â”‚   â”‚â–ºâ”‚     â”‚                                     â”‚               â”‚
    â”‚ â””â”€â”¼â”€â”€â”€â”¼â”€â”˜     â”‚                                     â”‚               â”‚
    â”‚   â”‚ â–¼ â”‚       â”‚                                     â”‚               â”‚
    â”‚   â””â”€â”€â”€â”˜       â”‚                                     â”‚               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                                      â”‚
     Left Trigger                                          Right Trigger
       (Brake)                                              (Throttle)
```

### Racing Controls

| Control | Action |
|---------|--------|
| **Analog Stick** / **D-Pad â—„â–º** | Steering |
| **A Button** / **Right Trigger** | Accelerate |
| **B Button** / **Left Trigger** | Brake |
| **Start** | Pause Game |

### Menu Controls

| Control | Action |
|---------|--------|
| **D-Pad â–²â–¼** | Navigate menu |
| **A** / **Start** | Select |
| **B** | Back |

### Exit Game
Hold **A + B + X + Y + Start** simultaneously to exit to Dreamcast BIOS.

---

## ğŸ—ï¸ Building

### Quick Start (Windows)

The easiest way to build on Windows:

```batch
# One-time setup (installs Docker Desktop)
scripts\windows\setup.bat

# Build the game
build.bat
```

### Quick Start (Linux/Mac)

Using Docker (no setup required):
```bash
./scripts/docker-build.sh
```

Or install the full toolchain:
```bash
./scripts/setup-kos.sh
source scripts/env.sh
./scripts/build.sh
```

### Build Targets

| Command | Description |
|---------|-------------|
| `build.bat` / `./scripts/build.sh` | Build ELF executable |
| `build.bat cdi` | Create bootable disc image |
| `build.bat clean` | Clean build artifacts |
| `build.bat shell` | Interactive build environment |

### Requirements

**Option A: Docker (Recommended)**
- Docker Desktop (Windows/Mac) or Docker Engine (Linux)
- No other dependencies needed!

**Option B: Full Toolchain**
- KallistiOS SDK
- SH4 cross-compiler (sh-elf-gcc)
- ARM cross-compiler (arm-eabi-gcc)

---

## ğŸ“ Project Structure

```
retroracer/
â”œâ”€â”€ ğŸ“„ Makefile              # KallistiOS build configuration
â”œâ”€â”€ ğŸ“„ build.bat             # Windows build script
â”œâ”€â”€ ğŸ“ include/              # Header files
â”‚   â”œâ”€â”€ ai.h                 # AI racing system
â”‚   â”œâ”€â”€ game.h               # Game state management
â”‚   â”œâ”€â”€ input.h              # Controller input
â”‚   â”œâ”€â”€ math3d.h             # 3D math library
â”‚   â”œâ”€â”€ menu.h               # Menu system
â”‚   â”œâ”€â”€ physics.h            # Physics engine
â”‚   â”œâ”€â”€ render.h             # PVR rendering
â”‚   â”œâ”€â”€ track.h              # Track generation
â”‚   â””â”€â”€ vehicle.h            # Vehicle physics
â”œâ”€â”€ ğŸ“ src/                  # Source files
â”‚   â”œâ”€â”€ main.c               # Entry point
â”‚   â”œâ”€â”€ game.c               # Core game logic
â”‚   â”œâ”€â”€ ai.c                 # AI behavior
â”‚   â”œâ”€â”€ input.c              # Input handling
â”‚   â”œâ”€â”€ math3d.c             # Vector/matrix math
â”‚   â”œâ”€â”€ menu.c               # Menu UI
â”‚   â”œâ”€â”€ physics.c            # Collision detection
â”‚   â”œâ”€â”€ render.c             # Graphics rendering
â”‚   â”œâ”€â”€ track.c              # Procedural track generation
â”‚   â””â”€â”€ vehicle.c            # Vehicle dynamics
â”œâ”€â”€ ğŸ“ scripts/
â”‚   â”œâ”€â”€ setup-kos.sh         # KallistiOS installer
â”‚   â”œâ”€â”€ build.sh             # Linux/Mac build script
â”‚   â”œâ”€â”€ docker-build.sh      # Docker build script
â”‚   â””â”€â”€ ğŸ“ windows/          # Windows-specific scripts
â””â”€â”€ ğŸ“ assets/               # Game assets (models, textures)
```

---

## ğŸ”§ Technical Details

### Engine Features

- **Rendering**: PowerVR hardware-accelerated 3D graphics
- **Resolution**: 640Ã—480 @ 60fps target
- **Physics**: Arcade-style vehicle dynamics with grip simulation
- **AI**: Path-following with overtaking and difficulty scaling
- **Tracks**: Procedural generation with straights, curves, and elevation

### Procedural Track Generation

Tracks are generated using a seeded random algorithm that creates:
- **Straight sections** - Variable length high-speed zones
- **Curves** - Left and right turns up to 45Â°
- **Hills** - Elevation changes for jumps and dips
- **Checkpoints** - Lap timing and progress tracking

Each difficulty level affects track complexity:
- Easy: Gentle curves, mostly flat
- Medium: Moderate curves, some hills
- Hard: Sharp turns, significant elevation
- Expert: Technical circuits with maximum variety

---

## ğŸ“œ License

This project is open source. Feel free to learn from it, modify it, and share it!

---

## ğŸ™ Credits

- **KallistiOS** - Dreamcast development library
- Inspired by classic racers: Ridge Racer, Daytona USA, Mario Kart 64

---

<div align="center">

**Made with â¤ï¸ for the Dreamcast community**

*Keep the dream alive!*

</div>
